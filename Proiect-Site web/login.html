<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <title>Login - Magazin de Haine</title>
	<link rel="stylesheet" href="style.css">
</head>

<body>
<div class="wrapper">
	<header>
		<h1>Autentificare</h1>
	</header>
	
	<input type="checkbox" id="toggle-menu" hidden>
	<label for="toggle-menu" class="menu-icon">&#9776; Meniu</label>
	
	<nav class="start-menu">
	<ul>
		<li><a href="index.html">Acasă</a></li>

		<li class="has-submenu">
			<input type="checkbox" id="toggle-submenu" hidden>
			<label for="toggle-submenu" class="submenu-toggle">Produse</label>
			<ul class="submenu">
				<li><a href="produse.html">Toate Produsele</a></li>
				<li><a href="femei.html">Femei</a></li>
			</ul>
		</li>

		<li><a href="contact.html">Contact</a></li>
		<li><a href="login.html">Log in</a></li>
		<li><a href="signup.html">La tine in oras?</a></li>
		<li><a href="validare.html">Sign up</a></li>
	</ul>
	</nav>


    <h2>Intră în cont</h2>

    <form onsubmit="verificaAutentificare(event)">
        <label for="user">Nume utilizator:</label>
        <input type="text" id="user" name="user" required><br><br>

        <label for="pass">Parolă:</label>
        <input type="password" id="pass" name="pass" required><br><br>

        <label for="role">Rol:</label>
        <select id="role">
            <option value="utilizator">Utilizator</option>
            <option value="admin">Administrator</option>
        </select><br><br>

        <input type="submit" value="Autentificare">
    </form>

    <p>Nu ai cont? <a href="signup.html">Înregistrează-te aici</a>.</p>

    <script>
        function verificaAutentificare(event) {
            event.preventDefault(); 

            var username = document.getElementById("user").value;
            var parola = document.getElementById("pass").value;
            var rol = document.getElementById("role").value;

            var contSalvat = localStorage.getItem(username);

            if (contSalvat) {
                var cont = JSON.parse(contSalvat);
                if (cont.parola === parola && cont.rol === rol) {
                    alert("Autentificare reușită!");
                    if (rol === "admin") {
                        window.location.href = "admin.html";
                    } else {
                        window.location.href = "produse.html";
                    }
                } else {
                    alert("Nume utilizator, parolă sau rol incorect!");
                }
            } else {
                alert("Acest cont nu există. Înregistrează-te mai întâi!");
            }
        }
    </script>
	
	
	<footer>
		<p>&copy; 2025 Magazin de Haine. Toate drepturile rezervate.</p>
		<p>Contact: contact@magazinuldehaine.ro | Telefon: 0734-123-456</p>
	</footer>

</div>
</body>
</html>
